
module SchemaUtils

import "pkl:semver"

import "@go/go.pkl"

typealias Version = String(semver.isValid(this))

/// The base definition of a package
///
/// Used to represent schemas such as the `latest` and the types for `versions`
open class ImplPackage {

}

/// Extension of this class for `api/packages`
class GetSchemaPackage extends ImplPackage {

}

/// The major extension of this class
open class Package extends ImplPackage {
    name: String

    description: String
    
    version: Version

    author: Author

    language: String?

    created_at: String

    updated_at: String?
}

class VerbosePackage extends Package {
    /// The list of all the versions of the package
    versions: Map<String, Package>

    /// The list of all the authors of the package
    authors: List<Author>
}

open class Author {
    name: String
    email: String
}

class Contributor extends Author {
    /// The role of the contributor
    role: Listing<String>?
}